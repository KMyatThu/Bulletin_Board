<%= flash[:notice] %>
<div class="py-4">
<div class="card">
  <div class="card-header">
    User List
  </div>

    <div class="container d-flex flex-row-reverse py-4">
        <%= form_tag({ :action => :search_user }, { :method => :get, class:"row g-3", :html => { :style => 'width: 80%;' }}) do %>
            <div class="col-auto align-self-center">
                <label>Name:</label>
            </div>
            <div class="col-auto">
                <%= text_field_tag :name, params[:name], class: "form-control" %>
            </div>
            <div class="col-auto align-self-center">
                <label>Email:</label>
            </div>
            <div class="col-auto">
                <%= text_field_tag :email, params[:email], class: "form-control" %>
            </div>
            <div class="col-auto align-self-center">
                <label>From:</label>
            </div>
            <div class="col-auto">
                <%= text_field_tag :from_date, params[:from_date], id: 'datepicker', autocomplete: 'off', class: "form-control" %>
            </div>
            <div class="col-auto align-self-center">
                <label>to:</label>
            </div>
            <div class="col-auto">
                <%= text_field_tag :to_date, params[:to_date], id: 'to_date', autocomplete: 'off', class: "form-control" %>
            </div>
            <div class="col-auto">
                <%= submit_tag ("Search"), class: 'btn btn-primary' %>
            </div>
        <% end %>
    </div>

  <div class="card-body"> 
    <table class="display" id="table_id">
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Email</th>
                <th>Created User</th>
                <th>Type</th>
                <th>Phone</th>
                <th>Date of Birth</th>
                <th>Address</th>
                <th>Created_date</th>
                <th>Updated_date</th>
                <th>Operation</th>
            </tr>
        </thead>
        <tbody>
            <% @users.each do |user| %>
            <tr>
                <td><%= user.id %></td>
                <td><%= link_to user.name, user, class: 'text-decoration-none' %></td>
                <td><%= user.email %></td>
                <td><%= user.created_user.name %></td>
                <td><%= user.role == "0" ? 'Admin' : 'User' %></td>
                <td><%= user.phone %></td>
                <td><%= user.dob.strftime('%Y/%m/%d') %></td>
                <td><%= user.address %></td>
                <td><%= user.created_at.strftime('%Y/%m/%d') %></td>
                <td><%= user.updated_at.strftime('%Y/%m/%d') %></td>
                <td><%= link_to "Destroy", user_path(user), method: :delete,
                    data: { confirm: "Are you sure?" }, class: "btn btn-danger" %></td>
            </tr>
            <%end%>
        </tbody>
    </table>
  </div>
</div>
</div>