<div class="py-4">
  <div class="card">
    <div class="card-header">
      Post List
    </div>

    <div class="container d-flex flex-row-reverse py-4">
        <%= form_tag({ :action => :search_post }, { :method => :get, class:"row g-3", :html => { :style => 'width: 80%;' }}) do %>
            <div class="col-auto align-self-center">
                <label>keyword:</label>
            </div>
            <div class="col-auto">
                <%= text_field_tag :keyword, params[:keyword], class: "form-control", style: "width:250px" %>
            </div>
            <div class="col-auto">
                <%= submit_tag ("Search"), class: 'btn btn-primary custom' %>
            </div>
            <div class="col-auto">
                <%= link_to "Create", new_post_path, class: 'btn btn-primary custom' %>
            </div>
            <div class="col-auto">
               <%= link_to "Upload", upload_posts_path, class: 'btn btn-primary custom' %>
            </div>
            <div class="col-auto">
                <%= link_to "Download", posts_path(format: :csv), class: 'btn btn-primary custom' %>
            </div>
        <% end %>
    </div>
                
    <div class="card-body"> 
      <table class="display" id="table_id">
          <thead>
              <tr>
                  <th>Post title</th>
                  <th>Post Description</th>
                  <th>Posted User</th>
                  <th>Posted Date</th>
                  <th>Operation</th>
              </tr>
          </thead>
          <tbody>
              <% @posts.each do |post| %>
                <tr>
                    <td><%= link_to post.title, post, class: 'text-decoration-none', "data-toggle" => 'mediumButton', 'data-target' => post %></td>
                    <td><%= post.description %></td>
                    <td><%= post.created_user.name %></td>
                    <td><%= post.created_at.strftime('%Y/%m/%d') %></td>
                    <td><%= link_to "Edit", edit_post_path(post),class: 'btn btn-primary' %>
                    <%= link_to "Destroy", post_path(post),
                                    method: :delete,
                                    data: { confirm: "Are you sure?" }, class: 'btn btn-danger' %></td>
                </tr>
              <%end%>
          </tbody>
      </table>
    </div>
  </div>
</div>

<style>
.custom {
    width: 150px !important;
}
</style>